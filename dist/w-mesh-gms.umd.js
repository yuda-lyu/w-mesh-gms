/*!
 * w-mesh-gms v1.0.2
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("fs")):"function"==typeof define&&define.amd?define(["fs"],r):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-mesh-gms"]=r(t.fs)}(this,(function(t){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e=Array.isArray,o="object"==typeof r&&r&&r.Object===Object&&r,u=o,i="object"==typeof self&&self&&self.Object===Object&&self,a=u||i||Function("return this")(),f=a.Symbol,c=f,l=Object.prototype,v=l.hasOwnProperty,s=l.toString,p=c?c.toStringTag:void 0;var h=function(t){var r=v.call(t,p),n=t[p];try{t[p]=void 0;var e=!0}catch(t){}var o=s.call(t);return e&&(r?t[p]=n:delete t[p]),o},d=Object.prototype.toString;var y=h,b=function(t){return d.call(t)},_=f?f.toStringTag:void 0;var g=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?y(t):b(t)};var j=function(t){return null!=t&&"object"==typeof t},$=g,O=j;var m=function(t){return"symbol"==typeof t||O(t)&&"[object Symbol]"==$(t)},w=e,A=m,x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/;var S=function(t,r){if(w(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!A(t))||(z.test(t)||!x.test(t)||null!=r&&t in Object(r))};var k=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},E=g,P=k;var F,T=function(t){if(!P(t))return!1;var r=E(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},N=a["__core-js_shared__"],M=(F=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"";var I=function(t){return!!M&&M in t},R=Function.prototype.toString;var B=function(t){if(null!=t){try{return R.call(t)}catch(t){}try{return t+""}catch(t){}}return""},D=T,U=I,C=k,L=B,V=/^\[object .+?Constructor\]$/,q=Function.prototype,G=Object.prototype,W=q.toString,H=G.hasOwnProperty,J=RegExp("^"+W.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var K=function(t){return!(!C(t)||U(t))&&(D(t)?J:V).test(L(t))},Q=function(t,r){return null==t?void 0:t[r]};var X=function(t,r){var n=Q(t,r);return K(n)?n:void 0},Y=X(Object,"create"),Z=Y;var tt=function(){this.__data__=Z?Z(null):{},this.size=0};var rt=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},nt=Y,et=Object.prototype.hasOwnProperty;var ot=function(t){var r=this.__data__;if(nt){var n=r[t];return"__lodash_hash_undefined__"===n?void 0:n}return et.call(r,t)?r[t]:void 0},ut=Y,it=Object.prototype.hasOwnProperty;var at=Y;var ft=tt,ct=rt,lt=ot,vt=function(t){var r=this.__data__;return ut?void 0!==r[t]:it.call(r,t)},st=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=at&&void 0===r?"__lodash_hash_undefined__":r,this};function pt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}pt.prototype.clear=ft,pt.prototype.delete=ct,pt.prototype.get=lt,pt.prototype.has=vt,pt.prototype.set=st;var ht=pt;var dt=function(){this.__data__=[],this.size=0};var yt=function(t,r){return t===r||t!=t&&r!=r},bt=yt;var _t=function(t,r){for(var n=t.length;n--;)if(bt(t[n][0],r))return n;return-1},gt=_t,jt=Array.prototype.splice;var $t=_t;var Ot=_t;var mt=_t;var wt=dt,At=function(t){var r=this.__data__,n=gt(r,t);return!(n<0)&&(n==r.length-1?r.pop():jt.call(r,n,1),--this.size,!0)},xt=function(t){var r=this.__data__,n=$t(r,t);return n<0?void 0:r[n][1]},zt=function(t){return Ot(this.__data__,t)>-1},St=function(t,r){var n=this.__data__,e=mt(n,t);return e<0?(++this.size,n.push([t,r])):n[e][1]=r,this};function kt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}kt.prototype.clear=wt,kt.prototype.delete=At,kt.prototype.get=xt,kt.prototype.has=zt,kt.prototype.set=St;var Et=kt,Pt=X(a,"Map"),Ft=ht,Tt=Et,Nt=Pt;var Mt=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var It=function(t,r){var n=t.__data__;return Mt(r)?n["string"==typeof r?"string":"hash"]:n.map},Rt=It;var Bt=It;var Dt=It;var Ut=It;var Ct=function(){this.size=0,this.__data__={hash:new Ft,map:new(Nt||Tt),string:new Ft}},Lt=function(t){var r=Rt(this,t).delete(t);return this.size-=r?1:0,r},Vt=function(t){return Bt(this,t).get(t)},qt=function(t){return Dt(this,t).has(t)},Gt=function(t,r){var n=Ut(this,t),e=n.size;return n.set(t,r),this.size+=n.size==e?0:1,this};function Wt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}Wt.prototype.clear=Ct,Wt.prototype.delete=Lt,Wt.prototype.get=Vt,Wt.prototype.has=qt,Wt.prototype.set=Gt;var Ht=Wt,Jt=Ht;function Kt(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var n=function(){var e=arguments,o=r?r.apply(this,e):e[0],u=n.cache;if(u.has(o))return u.get(o);var i=t.apply(this,e);return n.cache=u.set(o,i)||u,i};return n.cache=new(Kt.Cache||Jt),n}Kt.Cache=Jt;var Qt=Kt;var Xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yt=/\\(\\)?/g,Zt=function(t){var r=Qt(t,(function(t){return 500===n.size&&n.clear(),t})),n=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(Xt,(function(t,n,e,o){r.push(e?o.replace(Yt,"$1"):n||t)})),r}));var tr=function(t,r){for(var n=-1,e=null==t?0:t.length,o=Array(e);++n<e;)o[n]=r(t[n],n,t);return o},rr=tr,nr=e,er=m,or=f?f.prototype:void 0,ur=or?or.toString:void 0;var ir=function t(r){if("string"==typeof r)return r;if(nr(r))return rr(r,t)+"";if(er(r))return ur?ur.call(r):"";var n=r+"";return"0"==n&&1/r==-Infinity?"-0":n},ar=ir;var fr=function(t){return null==t?"":ar(t)},cr=e,lr=S,vr=Zt,sr=fr;var pr=function(t,r){return cr(t)?t:lr(t,r)?[t]:vr(sr(t))},hr=m;var dr=function(t){if("string"==typeof t||hr(t))return t;var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},yr=pr,br=dr;var _r=function(t,r){for(var n=0,e=(r=yr(r,t)).length;null!=t&&n<e;)t=t[br(r[n++])];return n&&n==e?t:void 0},gr=_r;var jr=function(t,r,n){var e=null==t?void 0:gr(t,r);return void 0===e?n:e},$r=n(jr),Or=Et;var mr=Et,wr=Pt,Ar=Ht;var xr=Et,zr=function(){this.__data__=new Or,this.size=0},Sr=function(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n},kr=function(t){return this.__data__.get(t)},Er=function(t){return this.__data__.has(t)},Pr=function(t,r){var n=this.__data__;if(n instanceof mr){var e=n.__data__;if(!wr||e.length<199)return e.push([t,r]),this.size=++n.size,this;n=this.__data__=new Ar(e)}return n.set(t,r),this.size=n.size,this};function Fr(t){var r=this.__data__=new xr(t);this.size=r.size}Fr.prototype.clear=zr,Fr.prototype.delete=Sr,Fr.prototype.get=kr,Fr.prototype.has=Er,Fr.prototype.set=Pr;var Tr=Fr;var Nr=Ht,Mr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ir=function(t){return this.__data__.has(t)};function Rr(t){var r=-1,n=null==t?0:t.length;for(this.__data__=new Nr;++r<n;)this.add(t[r])}Rr.prototype.add=Rr.prototype.push=Mr,Rr.prototype.has=Ir;var Br=Rr,Dr=function(t,r){for(var n=-1,e=null==t?0:t.length;++n<e;)if(r(t[n],n,t))return!0;return!1},Ur=function(t,r){return t.has(r)};var Cr=function(t,r,n,e,o,u){var i=1&n,a=t.length,f=r.length;if(a!=f&&!(i&&f>a))return!1;var c=u.get(t),l=u.get(r);if(c&&l)return c==r&&l==t;var v=-1,s=!0,p=2&n?new Br:void 0;for(u.set(t,r),u.set(r,t);++v<a;){var h=t[v],d=r[v];if(e)var y=i?e(d,h,v,r,t,u):e(h,d,v,t,r,u);if(void 0!==y){if(y)continue;s=!1;break}if(p){if(!Dr(r,(function(t,r){if(!Ur(p,r)&&(h===t||o(h,t,n,e,u)))return p.push(r)}))){s=!1;break}}else if(h!==d&&!o(h,d,n,e,u)){s=!1;break}}return u.delete(t),u.delete(r),s};var Lr=function(t){var r=-1,n=Array(t.size);return t.forEach((function(t,e){n[++r]=[e,t]})),n};var Vr=a.Uint8Array,qr=yt,Gr=Cr,Wr=Lr,Hr=function(t){var r=-1,n=Array(t.size);return t.forEach((function(t){n[++r]=t})),n},Jr=f?f.prototype:void 0,Kr=Jr?Jr.valueOf:void 0;var Qr=function(t,r,n,e,o,u,i){switch(n){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!u(new Vr(t),new Vr(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return qr(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var a=Wr;case"[object Set]":var f=1&e;if(a||(a=Hr),t.size!=r.size&&!f)return!1;var c=i.get(t);if(c)return c==r;e|=2,i.set(t,r);var l=Gr(a(t),a(r),e,o,u,i);return i.delete(t),l;case"[object Symbol]":if(Kr)return Kr.call(t)==Kr.call(r)}return!1};var Xr=function(t,r){for(var n=-1,e=r.length,o=t.length;++n<e;)t[o+n]=r[n];return t},Yr=Xr,Zr=e;var tn=function(t,r,n){var e=r(t);return Zr(t)?e:Yr(e,n(t))};var rn=function(t,r){for(var n=-1,e=null==t?0:t.length,o=0,u=[];++n<e;){var i=t[n];r(i,n,t)&&(u[o++]=i)}return u},nn=function(){return[]},en=Object.prototype.propertyIsEnumerable,on=Object.getOwnPropertySymbols,un=on?function(t){return null==t?[]:(t=Object(t),rn(on(t),(function(r){return en.call(t,r)})))}:nn;var an=function(t,r){for(var n=-1,e=Array(t);++n<t;)e[n]=r(n);return e},fn=g,cn=j;var ln=function(t){return cn(t)&&"[object Arguments]"==fn(t)},vn=j,sn=Object.prototype,pn=sn.hasOwnProperty,hn=sn.propertyIsEnumerable,dn=ln(function(){return arguments}())?ln:function(t){return vn(t)&&pn.call(t,"callee")&&!hn.call(t,"callee")},yn=dn,bn={exports:{}};var _n=function(){return!1};!function(t,r){var n=a,e=_n,o=r&&!r.nodeType&&r,u=o&&t&&!t.nodeType&&t,i=u&&u.exports===o?n.Buffer:void 0,f=(i?i.isBuffer:void 0)||e;t.exports=f}(bn,bn.exports);var gn=bn.exports,jn=/^(?:0|[1-9]\d*)$/;var $n=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&jn.test(t))&&t>-1&&t%1==0&&t<r};var On=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},mn=g,wn=On,An=j,xn={};xn["[object Float32Array]"]=xn["[object Float64Array]"]=xn["[object Int8Array]"]=xn["[object Int16Array]"]=xn["[object Int32Array]"]=xn["[object Uint8Array]"]=xn["[object Uint8ClampedArray]"]=xn["[object Uint16Array]"]=xn["[object Uint32Array]"]=!0,xn["[object Arguments]"]=xn["[object Array]"]=xn["[object ArrayBuffer]"]=xn["[object Boolean]"]=xn["[object DataView]"]=xn["[object Date]"]=xn["[object Error]"]=xn["[object Function]"]=xn["[object Map]"]=xn["[object Number]"]=xn["[object Object]"]=xn["[object RegExp]"]=xn["[object Set]"]=xn["[object String]"]=xn["[object WeakMap]"]=!1;var zn=function(t){return An(t)&&wn(t.length)&&!!xn[mn(t)]};var Sn=function(t){return function(r){return t(r)}},kn={exports:{}};!function(t,r){var n=o,e=r&&!r.nodeType&&r,u=e&&t&&!t.nodeType&&t,i=u&&u.exports===e&&n.process,a=function(){try{var t=u&&u.require&&u.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a}(kn,kn.exports);var En=kn.exports,Pn=zn,Fn=Sn,Tn=En&&En.isTypedArray,Nn=Tn?Fn(Tn):Pn,Mn=an,In=yn,Rn=e,Bn=gn,Dn=$n,Un=Nn,Cn=Object.prototype.hasOwnProperty;var Ln=function(t,r){var n=Rn(t),e=!n&&In(t),o=!n&&!e&&Bn(t),u=!n&&!e&&!o&&Un(t),i=n||e||o||u,a=i?Mn(t.length,String):[],f=a.length;for(var c in t)!r&&!Cn.call(t,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||u&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Dn(c,f))||a.push(c);return a},Vn=Object.prototype;var qn=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||Vn)};var Gn=function(t,r){return function(n){return t(r(n))}}(Object.keys,Object),Wn=qn,Hn=Gn,Jn=Object.prototype.hasOwnProperty;var Kn=T,Qn=On;var Xn=function(t){return null!=t&&Qn(t.length)&&!Kn(t)},Yn=Ln,Zn=function(t){if(!Wn(t))return Hn(t);var r=[];for(var n in Object(t))Jn.call(t,n)&&"constructor"!=n&&r.push(n);return r},te=Xn;var re=function(t){return te(t)?Yn(t):Zn(t)},ne=tn,ee=un,oe=re;var ue=function(t){return ne(t,oe,ee)},ie=Object.prototype.hasOwnProperty;var ae=function(t,r,n,e,o,u){var i=1&n,a=ue(t),f=a.length;if(f!=ue(r).length&&!i)return!1;for(var c=f;c--;){var l=a[c];if(!(i?l in r:ie.call(r,l)))return!1}var v=u.get(t),s=u.get(r);if(v&&s)return v==r&&s==t;var p=!0;u.set(t,r),u.set(r,t);for(var h=i;++c<f;){var d=t[l=a[c]],y=r[l];if(e)var b=i?e(y,d,l,r,t,u):e(d,y,l,t,r,u);if(!(void 0===b?d===y||o(d,y,n,e,u):b)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var _=t.constructor,g=r.constructor;_==g||!("constructor"in t)||!("constructor"in r)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(p=!1)}return u.delete(t),u.delete(r),p},fe=X(a,"DataView"),ce=Pt,le=X(a,"Promise"),ve=X(a,"Set"),se=X(a,"WeakMap"),pe=g,he=B,de="[object Map]",ye="[object Promise]",be="[object Set]",_e="[object WeakMap]",ge="[object DataView]",je=he(fe),$e=he(ce),Oe=he(le),me=he(ve),we=he(se),Ae=pe;(fe&&Ae(new fe(new ArrayBuffer(1)))!=ge||ce&&Ae(new ce)!=de||le&&Ae(le.resolve())!=ye||ve&&Ae(new ve)!=be||se&&Ae(new se)!=_e)&&(Ae=function(t){var r=pe(t),n="[object Object]"==r?t.constructor:void 0,e=n?he(n):"";if(e)switch(e){case je:return ge;case $e:return de;case Oe:return ye;case me:return be;case we:return _e}return r});var xe=Tr,ze=Cr,Se=Qr,ke=ae,Ee=Ae,Pe=e,Fe=gn,Te=Nn,Ne="[object Arguments]",Me="[object Array]",Ie="[object Object]",Re=Object.prototype.hasOwnProperty;var Be=function(t,r,n,e,o,u){var i=Pe(t),a=Pe(r),f=i?Me:Ee(t),c=a?Me:Ee(r),l=(f=f==Ne?Ie:f)==Ie,v=(c=c==Ne?Ie:c)==Ie,s=f==c;if(s&&Fe(t)){if(!Fe(r))return!1;i=!0,l=!1}if(s&&!l)return u||(u=new xe),i||Te(t)?ze(t,r,n,e,o,u):Se(t,r,f,n,e,o,u);if(!(1&n)){var p=l&&Re.call(t,"__wrapped__"),h=v&&Re.call(r,"__wrapped__");if(p||h){var d=p?t.value():t,y=h?r.value():r;return u||(u=new xe),o(d,y,n,e,u)}}return!!s&&(u||(u=new xe),ke(t,r,n,e,o,u))},De=j;var Ue=function t(r,n,e,o,u){return r===n||(null==r||null==n||!De(r)&&!De(n)?r!=r&&n!=n:Be(r,n,e,o,t,u))},Ce=Tr,Le=Ue;var Ve=k;var qe=function(t){return t==t&&!Ve(t)},Ge=qe,We=re;var He=function(t,r){return function(n){return null!=n&&(n[t]===r&&(void 0!==r||t in Object(n)))}},Je=function(t,r,n,e){var o=n.length,u=o,i=!e;if(null==t)return!u;for(t=Object(t);o--;){var a=n[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var f=(a=n[o])[0],c=t[f],l=a[1];if(i&&a[2]){if(void 0===c&&!(f in t))return!1}else{var v=new Ce;if(e)var s=e(c,l,f,t,r,v);if(!(void 0===s?Le(l,c,3,e,v):s))return!1}}return!0},Ke=function(t){for(var r=We(t),n=r.length;n--;){var e=r[n],o=t[e];r[n]=[e,o,Ge(o)]}return r},Qe=He;var Xe=pr,Ye=yn,Ze=e,to=$n,ro=On,no=dr;var eo=function(t,r){return null!=t&&r in Object(t)},oo=function(t,r,n){for(var e=-1,o=(r=Xe(r,t)).length,u=!1;++e<o;){var i=no(r[e]);if(!(u=null!=t&&n(t,i)))break;t=t[i]}return u||++e!=o?u:!!(o=null==t?0:t.length)&&ro(o)&&to(i,o)&&(Ze(t)||Ye(t))};var uo=Ue,io=jr,ao=function(t,r){return null!=t&&oo(t,r,eo)},fo=S,co=qe,lo=He,vo=dr;var so=function(t){return t};var po=_r;var ho=function(t){return function(r){return null==r?void 0:r[t]}},yo=function(t){return function(r){return po(r,t)}},bo=S,_o=dr;var go=function(t){var r=Ke(t);return 1==r.length&&r[0][2]?Qe(r[0][0],r[0][1]):function(n){return n===t||Je(n,t,r)}},jo=function(t,r){return fo(t)&&co(r)?lo(vo(t),r):function(n){var e=io(n,t);return void 0===e&&e===r?ao(n,t):uo(r,e,3)}},$o=so,Oo=e,mo=function(t){return bo(t)?ho(_o(t)):yo(t)};var wo=function(t){return"function"==typeof t?t:null==t?$o:"object"==typeof t?Oo(t)?jo(t[0],t[1]):go(t):mo(t)};var Ao=function(t){return function(r,n,e){for(var o=-1,u=Object(r),i=e(r),a=i.length;a--;){var f=i[t?a:++o];if(!1===n(u[f],f,u))break}return r}}(),xo=re;var zo=Xn;var So=function(t,r){return function(n,e){if(null==n)return n;if(!zo(n))return t(n,e);for(var o=n.length,u=r?o:-1,i=Object(n);(r?u--:++u<o)&&!1!==e(i[u],u,i););return n}}((function(t,r){return t&&Ao(t,r,xo)})),ko=So,Eo=Xn;var Po=tr,Fo=wo,To=function(t,r){var n=-1,e=Eo(t)?Array(t.length):[];return ko(t,(function(t,o,u){e[++n]=r(t,o,u)})),e},No=e;var Mo=n((function(t,r){return(No(t)?Po:To)(t,Fo(r))}));var Io=so;var Ro=function(t,r){for(var n=-1,e=null==t?0:t.length;++n<e&&!1!==r(t[n],n,t););return t},Bo=So,Do=function(t){return"function"==typeof t?t:Io},Uo=e;var Co=n((function(t,r){return(Uo(t)?Ro:Bo)(t,Do(r))}));var Lo=function(t,r,n){var e=-1,o=t.length;r<0&&(r=-r>o?0:o+r),(n=n>o?o:n)<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var u=Array(o);++e<o;)u[e]=t[e+r];return u},Vo=/\s/;var qo=function(t){for(var r=t.length;r--&&Vo.test(t.charAt(r)););return r},Go=/^\s+/;var Wo=function(t){return t?t.slice(0,qo(t)+1).replace(Go,""):t},Ho=Wo,Jo=k,Ko=m,Qo=/^[-+]0x[0-9a-f]+$/i,Xo=/^0b[01]+$/i,Yo=/^0o[0-7]+$/i,Zo=parseInt;var tu=function(t){if("number"==typeof t)return t;if(Ko(t))return NaN;if(Jo(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=Jo(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=Ho(t);var n=Xo.test(t);return n||Yo.test(t)?Zo(t.slice(2),n?2:8):Qo.test(t)?NaN:+t},ru=tu,nu=1/0;var eu=function(t){return t?(t=ru(t))===nu||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},ou=n(eu),uu=eu;var iu=function(t){var r=uu(t),n=r%1;return r==r?n?r-n:r:0},au=Lo,fu=iu;var cu=n((function(t,r,n){var e=null==t?0:t.length;return e?(r=n||void 0===r?1:fu(r),au(t,r<0?0:r,e)):[]})),lu=Lo;var vu=function(t,r,n){var e=t.length;return n=void 0===n?e:n,!r&&n>=e?t:lu(t,r,n)},su=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var pu=function(t){return su.test(t)},hu=yt,du=Xn,yu=$n,bu=k;var _u=function(t,r,n){if(!bu(n))return!1;var e=typeof r;return!!("number"==e?du(n)&&yu(r,n.length):"string"==e&&r in n)&&hu(n[r],t)},gu=g,ju=j;var $u=function(t){return ju(t)&&"[object RegExp]"==gu(t)},Ou=Sn,mu=En&&En.isRegExp,wu=mu?Ou(mu):$u;var Au=function(t){return t.split("")},xu="\\ud800-\\udfff",zu="["+xu+"]",Su="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ku="\\ud83c[\\udffb-\\udfff]",Eu="[^"+xu+"]",Pu="(?:\\ud83c[\\udde6-\\uddff]){2}",Fu="[\\ud800-\\udbff][\\udc00-\\udfff]",Tu="(?:"+Su+"|"+ku+")"+"?",Nu="[\\ufe0e\\ufe0f]?",Mu=Nu+Tu+("(?:\\u200d(?:"+[Eu,Pu,Fu].join("|")+")"+Nu+Tu+")*"),Iu="(?:"+[Eu+Su+"?",Su,Pu,Fu,zu].join("|")+")",Ru=RegExp(ku+"(?="+ku+")|"+Iu+Mu,"g");var Bu=Au,Du=pu,Uu=function(t){return t.match(Ru)||[]};var Cu=function(t){return Du(t)?Uu(t):Bu(t)},Lu=ir,Vu=vu,qu=pu,Gu=_u,Wu=wu,Hu=Cu,Ju=fr;var Ku=n((function(t,r,n){return n&&"number"!=typeof n&&Gu(t,r,n)&&(r=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=Ju(t))&&("string"==typeof r||null!=r&&!Wu(r))&&!(r=Lu(r))&&qu(t)?Vu(Hu(t),0,n):t.split(r,n):[]})),Qu=tr;var Xu=function(t,r){return Qu(r,(function(r){return t[r]}))},Yu=re;var Zu=n((function(t){return null==t?[]:Xu(t,Yu(t))})),ti=m;var ri=function(t,r,n){for(var e=-1,o=t.length;++e<o;){var u=t[e],i=r(u);if(null!=i&&(void 0===a?i==i&&!ti(i):n(i,a)))var a=i,f=u}return f};var ni=ri,ei=function(t,r){return t<r},oi=so;var ui=n((function(t){return t&&t.length?ni(t,oi,ei):void 0}));var ii=ri,ai=function(t,r){return t>r},fi=so;var ci=n((function(t){return t&&t.length?ii(t,fi,ai):void 0}));var li=function(t,r,n,e){for(var o=t.length,u=n+(e?1:-1);e?u--:++u<o;)if(r(t[u],u,t))return u;return-1},vi=function(t){return t!=t},si=function(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1};var pi=function(t,r,n){return r==r?si(t,r,n):li(t,vi,n)},hi=pi;var di=pi;var yi=ir,bi=Wo,_i=vu,gi=function(t,r){for(var n=t.length;n--&&hi(r,t[n],0)>-1;);return n},ji=function(t,r){for(var n=-1,e=t.length;++n<e&&di(r,t[n],0)>-1;);return n},$i=Cu,Oi=fr;var mi=n((function(t,r,n){if((t=Oi(t))&&(n||void 0===r))return bi(t);if(!t||!(r=yi(r)))return t;var e=$i(t),o=$i(r),u=ji(e,o),i=gi(e,o)+1;return _i(e,u,i).join("")}));function wi(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function Ai(t,r){if(!wi(t))return[];if(!wi(r))return[];let n=function(t,r){return wi(t)&&wi(r)?t.split(r):[]}(t,r);n=Mo(n,mi);let e=[];return Co(n,(function(t){wi(t)&&e.push(t)})),e}var xi=iu,zi=tu,Si=fr,ki=a.isFinite,Ei=Math.min;var Pi=n(function(t){var r=Math[t];return function(t,n){if(t=zi(t),(n=null==n?0:Ei(xi(n),292))&&ki(t)){var e=(Si(t)+"e").split("e"),o=r(e[0]+"e"+(+e[1]+n));return+((e=(Si(o)+"e").split("e"))[0]+"e"+(+e[1]-n))}return r(t)}}("round"));function Fi(t){let r=!1;if(wi(t))r=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(function(t){return t!=t}(t))return!1;r=!0}return r}function Ti(t){if(!Fi(t))return 0;return ou(t)}function Ni(t){if(!Fi(t))return 0;t=Ti(t);let r=Pi(t);return"0"===String(r)?0:r}function Mi(r,n){let e=Ai(t.readFileSync(r,"utf8"),"\n");e=cu(e,1);let o=Mo(e,(t=>Ku(t,","))),u={};return Co(o,(t=>{let r=Ni($r(t,1,0)),e=Ni($r(t,2,0)),o=Ni($r(t,3,0)),i=Ni($r(t,4,0)),a=Ti($r(t,5,0)),f=Ni($r(t,6,0));u[r]={id:r,i:o,j:i,k:e,[n]:a,active:f}})),u}return{readGms:async function(r,n,e,o){let u=function(r){let n=Ai(t.readFileSync(r,"utf8"),"\n");n=cu(n,1);let e=Mo(n,(t=>Ku(t,","))),o=$r(e,0,[]);return{blx:Ti($r(o,0,0)),bly:Ti($r(o,1,0)),z:Ti($r(o,2,0)),sx:Ti($r(o,3,0)),sy:Ti($r(o,4,0)),sz:Ti($r(o,5,0))}}(r),i=Mi(n,"top"),a=Mi(e,"bot"),f=function(r){let n=Ai(t.readFileSync(r,"utf8"),"\n");n=cu(n,1);let e=Mo(n,(t=>Ku(t,","))),o={};return Co(e,(t=>{let r=Ni($r(t,1,0)),n=Ni($r(t,2,0)),e=Ni($r(t,3,0)),u=Ni($r(t,4,0)),i=Ni($r(t,5,0));o[r]={id:r,i:e,j:u,k:n,mat:i}})),o}(o),c={};Co(f,((t,r)=>{let n=$r(i,`${r}.top`,0),e=$r(a,`${r}.bot`,0),o=$r(a,`${r}.active`,0),u=`${t.i}-${t.j}-${t.k}`;c[u]={id:t.id,i:t.i,j:t.j,k:t.k,top:n,bot:e,mat:t.mat,active:o}}));let l=Zu(c),v=Mo(l,"i"),s=ui(v),p=ci(v),h=Mo(l,"j"),d=ui(h),y=ci(h),b=Mo(l,"k"),_=ui(b),g=ci(b),j=[],$={};{let t=0;for(let r=g;r>=_;r--)for(let n=s;n<=p;n++)for(let e=d;e<=y;e++){let o=g-r+1,i=`${n}-${e}-${o}`,a=$r(c,`${n}-${e}-${r}`,{}),f=u.blx+(n+.5)*u.sx,l=u.bly+(e+.5)*u.sy,v=$r(a,"bot",0),s=$r(a,"mat",0),p=$r(a,"active",0);t++;let h={indn:t,key:i,x:f,y:l,z:v,mat:s,active:p};if(j.push(h),$[i]=h,r===_){i=`${n}-${e}-${o+1}`,v=$r(a,"top",0),t++;let r={indn:t,key:i,x:f,y:l,z:v,mat:s,active:p};j.push(r),$[i]=r}}}let O=[];{let t=0;for(let r=g;r>=_;r--)for(let n=s;n<=p-1;n++)for(let e=d;e<=y-1;e++){let o=g-r+1,u=`${n}-${e}-${o}`,i=`${n+1}-${e}-${o}`,a=`${n+1}-${e+1}-${o}`,f=`${n}-${e+1}-${o}`,c=`${n}-${e}-${o+1}`,l=`${n+1}-${e}-${o+1}`,v=`${n+1}-${e+1}-${o+1}`,s=`${n}-${e+1}-${o+1}`;if(8!==$r($,`${u}.active`,0)+$r($,`${i}.active`,0)+$r($,`${a}.active`,0)+$r($,`${f}.active`,0)+$r($,`${c}.active`,0)+$r($,`${l}.active`,0)+$r($,`${v}.active`,0)+$r($,`${s}.active`,0))continue;t++;let p={inde:t,nodes:[$r($,`${u}.indn`,0),$r($,`${i}.indn`,0),$r($,`${a}.indn`,0),$r($,`${f}.indn`,0),$r($,`${c}.indn`,0),$r($,`${l}.indn`,0),$r($,`${v}.indn`,0),$r($,`${s}.indn`,0)],mat:$r($,`${u}.mat`,0)};O.push(p)}}return{nodes:j,eles:O}},writeGms:async function(t,r,n){return console.log("尚待開發"),null}}}));
//# sourceMappingURL=w-mesh-gms.umd.js.map
